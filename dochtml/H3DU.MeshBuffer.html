<html><head><title>H3DU.MeshBuffer</title></head><body><h1> H3DU.MeshBuffer</h1><p><a href='index.html'>Back to documentation index.</a></p><a name='H3DU.MeshBuffer'></a>
<h3> H3DU.MeshBuffer([mesh])</h3>A geometric mesh in the form of buffer objects.<h4> Parameters</h4><ul><li><code>mesh</code> (Type: <a href="H3DU.Mesh.html">H3DU.Mesh</a>) (optional)<br>A geometric mesh object. A series of default attributes will be set based on that mesh's data. If null or omitted, an empty mesh buffer will be generated.</ul><h3> Methods</h3><ul><li><a href='#H3DU.MeshBuffer_getAttribute'>getAttribute</a><br>TODO: Not documented yet.<li><a href='#H3DU.MeshBuffer_getBounds'>getBounds</a><br>Finds the tightest
bounding box that holds all vertices in the mesh buffer.<li><a href='#H3DU.MeshBuffer_getIndices'>getIndices</a><br>Gets the array of vertex indices used by this mesh buffer.<li><a href='#H3DU.MeshBuffer_getPositions'>getPositions</a><br>Gets an array of vertex positions held by this mesh buffer,
arranged by primitive<li><a href='#H3DU.MeshBuffer_merge'>merge</a><br>Merges the vertices from another mesh into this one.<li><a href='#H3DU.MeshBuffer_primitiveCount'>primitiveCount</a><br>Gets the number of primitives (triangles, lines,
and points) composed by all shapes in this mesh.<li><a href='#H3DU.MeshBuffer_primitiveType'>primitiveType</a><br>Gets the type of primitive stored in this mesh buffer.<li><a href='#H3DU.MeshBuffer_recalcNormals'>recalcNormals</a><br>Recalculates the normal vectors for triangles
in this mesh.<li><a href='#H3DU.MeshBuffer_reverseNormals'>reverseNormals</a><br>Modifies this mesh buffer by reversing the sign of normals it defines.<li><a href='#H3DU.MeshBuffer_setAttribute'>setAttribute</a><br>Adds information about a buffer attribute to this
mesh buffer (or sets an
existing attribute's information).<li><a href='#H3DU.MeshBuffer_setIndices'>setIndices</a><br>Sets the array of vertex indices used by this mesh buffer.<li><a href='#H3DU.MeshBuffer_setPrimitiveType'>setPrimitiveType</a><br>Sets the type of graphics primitives stored in this mesh buffer.<li><a href='#H3DU.MeshBuffer_transform'>transform</a><br>Transforms the positions and normals of all the vertices currently
in this mesh.<li><a href='#H3DU.MeshBuffer_vertexCount'>vertexCount</a><br>Gets the number of vertices in this mesh buffer, that
is, the number of vertex indices in its index buffer (some of which
may be duplicates).<li><a href='#H3DU.MeshBuffer_vertexIndices'>vertexIndices</a><br>Gets the vertex indices of a given primitive (triangle, line,
or point) in this mesh buffer.</ul><a name='H3DU.MeshBuffer_getAttribute'></a>
<h3> H3DU.MeshBuffer#getAttribute(name, index)</h3>TODO: Not documented yet.<h4> Parameters</h4><ul><li><code>name</code> (Type: number | string)<br>An attribute semantic, such as <a href="H3DU.Semantic.html#H3DU.Semantic.POSITION">H3DU.Semantic.POSITION</a>, "POSITION", or "TEXCOORD_0".<li><code>index</code> (Type: number)<br>The set index of the attribute for the given semantic. 0 is the first index of the attribute, 1 is the second, and so on. This is ignored if "name" is a string.</ul><h4> Return Value</h4>An object describing the vertex attribute, or null
of the attribute doesn't exist. (Type: Array.&lt;Object>)<a name='H3DU.MeshBuffer_getBounds'></a>
<h3> H3DU.MeshBuffer#getBounds()</h3>Finds the tightest
bounding box that holds all vertices in the mesh buffer.<h4> Return Value</h4>An array of six numbers describing the tightest
axis-aligned bounding box
that fits all vertices in the mesh. The first three numbers
are the smallest-valued X, Y, and Z coordinates, and the
last three are the largest-valued X, Y, and Z coordinates.
This calculation uses the attribute with the semantic POSITION
and set index 0. If there is no such attribute,
or no vertices are defined in this buffer, returns the array
[Inf, Inf, Inf, -Inf, -Inf, -Inf]. (Type: Array.&lt;number>)<a name='H3DU.MeshBuffer_getIndices'></a>
<h3> H3DU.MeshBuffer#getIndices()</h3>Gets the array of vertex indices used by this mesh buffer.<h4> Return Value</h4>Return value. (Type: Uint16Array | Uint32Array | Uint8Array)<a name='H3DU.MeshBuffer_getPositions'></a>
<h3> H3DU.MeshBuffer#getPositions()</h3>Gets an array of vertex positions held by this mesh buffer,
arranged by primitive<h4> Return Value</h4>An array of primitives,
each of which holds the vertices that make up that primitive.
If this mesh holds triangles, each primitive will contain three
vertices; if lines, two; and if points, one. Each vertex is an at least 3-element
array containing that vertex's X, Y, and Z coordinates, in that order. (Type: Array.&lt;Array.&lt;number>>)<a name='H3DU.MeshBuffer_merge'></a>
<h3> H3DU.MeshBuffer#merge(other)</h3>Merges the vertices from another mesh into this one.
The vertices from the other mesh will be copied into this one,
and the other mesh's indices copied or adapted.<h4> Parameters</h4><ul><li><code>other</code> (Type: <a href="H3DU.MeshBuffer.html">H3DU.MeshBuffer</a>)<br>A mesh to merge into this one. The mesh given in this parameter will remain unchanged. Throws an error if this mesh's primitive type is not the same as the other mesh's primitive type</ul><h4> Return Value</h4>This object. (Type: <a href="H3DU.MeshBuffer.html">H3DU.MeshBuffer</a>)<h4> Example</h4><pre>var copiedMesh = new H3DU.MeshBuffer().merge(meshToCopy);</pre><a name='H3DU.MeshBuffer_primitiveCount'></a>
<h3> H3DU.MeshBuffer#primitiveCount()</h3>Gets the number of primitives (triangles, lines,
and points) composed by all shapes in this mesh.<h4> Return Value</h4>Return value. (Type: number)<a name='H3DU.MeshBuffer_primitiveType'></a>
<h3> H3DU.MeshBuffer#primitiveType()</h3>Gets the type of primitive stored in this mesh buffer.<h4> Return Value</h4>Either <a href="H3DU.Mesh.html#H3DU.Mesh.TRIANGLES">H3DU.Mesh.TRIANGLES</a>,
<a href="H3DU.Mesh.html#H3DU.Mesh.LINES">H3DU.Mesh.LINES</a>, or <a href="H3DU.Mesh.html#H3DU.Mesh.POINTS">H3DU.Mesh.POINTS</a>. (Type: number)<a name='H3DU.MeshBuffer_recalcNormals'></a>
<h3> H3DU.MeshBuffer#recalcNormals(flat, inward)</h3>Recalculates the normal vectors for triangles
in this mesh. For this to properly affect shading, each triangle in
the mesh must have its vertices defined in
counterclockwise order (if the triangle is being rendered
in a right-handed coordinate system). Each normal calculated will
be normalized to have a length of 1 (unless the normal is (0,0,0)).
Will have an effect only if the position vector is at least 3 elements
long. If the normal vector exists, but is not at least 3 elements long,
this method will have no effect.<h4> Parameters</h4><ul><li><code>flat</code> (Type: Boolean)<br>If true, each triangle in the mesh will have the same normal, which usually leads to a flat appearance. If false, each unique vertex in the mesh will have its own normal, which usually leads to a smooth appearance.<li><code>inward</code> (Type: Boolean)<br>If true, the generated normals will point inward; otherwise, outward.</ul><h4> Return Value</h4>This object. (Type: <a href="H3DU.Mesh.html">H3DU.Mesh</a>)<a name='H3DU.MeshBuffer_reverseNormals'></a>
<h3> H3DU.MeshBuffer#reverseNormals()</h3>Modifies this mesh buffer by reversing the sign of normals it defines.
Has no effect if this mesh buffer doesn't define any normals.<h4> Return Value</h4>This object. (Type: <a href="H3DU.MeshBuffer.html">H3DU.MeshBuffer</a>)<h4> Example</h4><p>
The following code generates a two-sided mesh, where
the normals on each side face in the opposite direction.
This is only useful when drawing open geometric shapes, such as open
cylinders and two-dimensional planar shapes.
Due to the z-fighting effect, drawing a two-sided mesh is
recommended only if face culling is enabled.
TODO: Implement reverseWinding.</p><pre>
var twoSidedMesh = originalMesh.merge(
new H3DU.Mesh().merge(originalMesh).reverseWinding().reverseNormals()
);</pre><a name='H3DU.MeshBuffer_setAttribute'></a>
<h3> H3DU.MeshBuffer#setAttribute(name, index, buffer, startIndex, countPerVertex, stride)</h3>Adds information about a buffer attribute to this
mesh buffer (or sets an
existing attribute's information). An attribute
gives information about the per-vertex data used and
stored in a vertex buffer.<h4> Parameters</h4><ul><li><code>name</code> (Type: number | string)<br>An attribute semantic, such as <a href="H3DU.Semantic.html#H3DU.Semantic.POSITION">H3DU.Semantic.POSITION</a>, "POSITION", or "TEXCOORD_0".<li><code>index</code> (Type: number)<br>The set index of the attribute for the given semantic. 0 is the first index of the attribute, 1 is the second, and so on. This is ignored if "name" is a string.<li><code>buffer</code> (Type: Float32Array | Array)<br>The buffer where the per-vertex data is stored.<li><code>startIndex</code> (Type: number)<br>The index into the array (starting from 0) where the first per-vertex item starts.<li><code>countPerVertex</code> (Type: number)<br>The number of elements in each per-vertex item. For example, if each vertex is a 3-element vector, this value is 3.<li><code>stride</code> (Type: number)<br>The number of elements from the start of one per-vertex item to the start of the next.</ul><h4> Return Value</h4>This object.Throws an error if the given
semantic is unsupported. (Type: <a href="H3DU.MeshBuffer.html">H3DU.MeshBuffer</a>)<a name='H3DU.MeshBuffer_setIndices'></a>
<h3> H3DU.MeshBuffer#setIndices(indices)</h3>Sets the array of vertex indices used by this mesh buffer.<h4> Parameters</h4><ul><li><code>indices</code> (Type: Uint16Array | Uint32Array | Uint8Array)<br>Array of vertex indices.</ul><h4> Return Value</h4>This object. (Type: <a href="H3DU.MeshBuffer.html">H3DU.MeshBuffer</a>)<a name='H3DU.MeshBuffer_setPrimitiveType'></a>
<h3> H3DU.MeshBuffer#setPrimitiveType(primType)</h3>Sets the type of graphics primitives stored in this mesh buffer.<h4> Parameters</h4><ul><li><code>primType</code> (Type: number)<br>The primitive type, either <a href="H3DU.Mesh.html#H3DU.Mesh.TRIANGLES">H3DU.Mesh.TRIANGLES</a>, <a href="H3DU.Mesh.html#H3DU.Mesh.LINES">H3DU.Mesh.LINES</a>, or <a href="H3DU.Mesh.html#H3DU.Mesh.POINTS">H3DU.Mesh.POINTS</a>.</ul><h4> Return Value</h4>This object. (Type: <a href="H3DU.MeshBuffer.html">H3DU.MeshBuffer</a>)<a name='H3DU.MeshBuffer_transform'></a>
<h3> H3DU.MeshBuffer#transform(matrix)</h3>Transforms the positions and normals of all the vertices currently
in this mesh. The matrix won't affect other attributes, including tangents and bitangents.<h4> Parameters</h4><ul><li><code>matrix</code> (Type: Array.&lt;number>)<br>A 4x4 matrix described in the <a href="H3DU.Math.html#H3DU.Math.mat4projectVec3">H3DU.Math.mat4projectVec3</a> method. The normals will be transformed using the 3x3 inverse transpose of this matrix (see <a href="H3DU.Math.html#H3DU.Math.mat4inverseTranspose3">H3DU.Math.mat4inverseTranspose3</a>). (Normals need to be transformed specially because they describe directions, not points.)</ul><h4> Return Value</h4>This object. (Type: <a href="H3DU.MeshBuffer.html">H3DU.MeshBuffer</a>)<a name='H3DU.MeshBuffer_vertexCount'></a>
<h3> H3DU.MeshBuffer#vertexCount()</h3>Gets the number of vertices in this mesh buffer, that
is, the number of vertex indices in its index buffer (some of which
may be duplicates).<h4> Return Value</h4>Return value. (Type: number)<a name='H3DU.MeshBuffer_vertexIndices'></a>
<h3> H3DU.MeshBuffer#vertexIndices(primitiveIndex, ret)</h3>Gets the vertex indices of a given primitive (triangle, line,
or point) in this mesh buffer.<h4> Parameters</h4><ul><li><code>primitiveIndex</code> (Type: number)<br>The index (counting from 0) of the primitive whose indices will be retrieved.<li><code>ret</code> (Type: Array.&lt;number>)<br>An array where the vertex indices for the given primitive will be stored. If this mesh buffer stores triangles, three indices will be stored; if lines, two; and if points, one.</ul><h4> Return Value</h4>The parameter "ret". (Type: Array.&lt;number>)<p><a href='index.html'>Back to documentation index.</a></p></body></html>
