<!DOCTYPE html><html><head><meta charset=utf-8><title>Creating Shapes</title></head><body><h1> Creating Shapes</h1><p><a href='index.html'>Back to documentation index.</a></p><p><a id=Introduction></a></p>
<h2>Introduction</h2><p>This page explains how my <a href="http://peteroupc.github.io/html3dutil"><strong>HTML 3D Library</strong></a>
supports 3D shapes and how to use the library to create shapes, both built-in and custom
shapes.</p>
<p>This page will discuss:</p>
<ul>
<li>Binding mesh buffers to shapes</li>
<li>Shape groups, or combinations of several shapes</li>
</ul>
<p><a id=Contents></a></p>
<h2>Contents</h2><ul>
<li><a href="#Introduction"><strong>Introduction</strong></a></li>
<li><a href="#Contents"><strong>Contents</strong></a></li>
<li><a href="#Creating_Shapes"><strong>Creating Shapes</strong></a><ul>
<li><a href="#Built_In_Shapes"><strong>Built-In Shapes</strong></a></li>
<li><a href="#Custom_Shapes"><strong>Custom Shapes</strong></a></li>
<li><a href="#The_Mesh_Constructor"><strong>The Mesh Constructor</strong></a></li>
</ul>
</li>
<li><a href="#Binding_Shapes"><strong>Binding Shapes</strong></a></li>
<li><a href="#Shape_Groups"><strong>Shape Groups</strong></a></li>
</ul>
<p><a id=Creating_Shapes></a></p>
<h2>Creating Shapes</h2><p>The HTML 3D library contains several methods for creating 3D shapes such
as cubes, cylinders, spheres, and custom shapes.</p>
<p><img src="shapes.png" alt="**An assortment of shapes: a red box, a blue sphere, a bright green 2D ring, and an
orange partial ring on the first row; and a yellow 3D ring, a brown cylinder, a dark
green square, and a purple cone on the second row.**"></p>
<p><a id=Built_In_Shapes></a></p>
<h3>Built-In Shapes</h3><p>The <a href="H3DU.Meshes.html"><code>H3DU.Meshes</code></a> class includes several handy methods for creating built-in shapes.
All methods described below return a <code>H3DU.MeshBuffer</code> object that describes the triangles they
are composed of.  See &quot;Custom Shapes&quot; below for more on meshes.</p>
<p><a id=Custom_Shapes></a></p>
<h3>Custom Shapes</h3><p>The <code>H3DU.MeshBuffer</code> class can be used to store geometric figures not given among the built-in ones.
Such figures can consist of triangles, lines, or points.</p>
<p><a id=The_Mesh_Constructor></a></p>
<h3>The Mesh Constructor</h3><p>The <code>MeshBuffer</code> class contains four methods (<code>fromPositions</code>,
<code>fromPositionsNormals</code>, <code>fromPositionsUV</code>, and <code>fromPositionsNormalsUV</code>) that let you define a mesh buffer from a predefined array of vertex data.  See the documentation for those methods for more information.</p>
<p><a id=Binding_Shapes></a></p>
<h2>Binding Shapes</h2><p>Once you have a mesh of a 3D shape, you still need to attach it to a shape
and a batch of shapes in order for the renderer to draw it. This is where
the <a href="H3DU.Shape.html"><code>H3DU.Shape</code></a> class comes into
play; this class associates a 3D mesh with its location in the scene,
as well as its color, its appearance, and how its vertices will be transformed.
To attach a mesh to a 3D scene:</p>
<ol>
<li><p>Create a <code>Shape</code> object by passing the mesh buffer to the <code>H3DU.Shape</code> constructor:</p>
<pre class="prettyprint source"><code> var shape = new H3DU.Shape(meshBuffer);</code></pre><p> Note that <code>setPosition</code>, <code>setQuaternion</code>, and <code>setScale</code> don't change
the vertices of the underlying mesh the shape uses, but rather set up
a <a href="tutorial-glmath.html"><em>transformation matrix</em></a> that adjusts each vertex
in the shape &quot;on the fly&quot; when it comes time to draw it each frame.</p>
<p> If <code>setMatrix</code> wasn't called, then when the shape is rendered, it will generate
a transformation matrix that has the effect of scaling, then rotating,
then translating (shifting) the shape in 3D space.</p>
</li>
<li><p>Add the shape to a 3D batch (`H3DU.Batch3D):</p>
<pre class="prettyprint source"><code> batch3d.addShape(shape);</code></pre><p> Now, the next time <code>scene3d.render(batch)</code> is called, the <code>H3DU.Scene3D</code> will render the
given shape to the scene through the 3D batch.</p>
</li>
</ol>
<p><a id=Shape_Groups></a></p>
<h2>Shape Groups</h2><p>The <code>H3DU.ShapeGroup</code> class represents a shape that's a combination of multiple shapes. Usually,
they form different pieces of a combined shape that can be positioned, rotated, and scaled
at once. Here is an example of a clock made up of multiple shapes:</p>
<p><img src="clock.png" alt="**Clock**"></p>
<p>This clock is made up of shapes, which
are added to a single ShapeGroup which represents the whole clock, as follows:</p>
<ul>
<li>Clock: <code>ShapeGroup</code><ul>
<li>Edge: Torus</li>
<li>Front face: Disk</li>
<li>Back face: Disk</li>
<li>Hour hand: Capsule</li>
<li>Minute hand: Capsule</li>
<li>Seconds hand: Capsule</li>
<li>12 o'clock: Sphere</li>
<li>Center: Sphere</li>
</ul>
</li>
</ul>
<p>To create a shape group, call <code>new H3DU.ShapeGroup()</code>. To add a <code>Shape</code> object to the group,
call <code>new H3DU.Shape(shape)</code>. Note that you can add only shapes or other shape groups, not meshes,
to a shape group.</p><p><a href='index.html'>Back to documentation index.</a></p></body></html>
