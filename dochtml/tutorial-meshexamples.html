<!DOCTYPE html><html><head><meta charset=utf-8><title>Examples of Creating Meshes on the Fly</title></head><body><h1> Examples of Creating Meshes on the Fly</h1><p><a href='index.html'>Back to documentation index.</a></p><p>This page contains source code for creating various kinds of 3D models on the fly.</p>
<p>TODO: Place in documentation examples, not here.</p>
<p><a id=Contents></a></p>
<h2>Contents</h2><ul>
<li><a href="#Contents"><strong>Contents</strong></a></li>
<li><a href="#3D_Line"><strong>3D Line</strong></a></li>
<li><a href="#Miscellaneous"><strong>Miscellaneous</strong></a></li>
</ul>
<p><a id=3D_Line></a></p>
<h2>3D Line</h2><p>This method creates a thin line-like 3D object.</p>
<pre class="prettyprint source"><code>// point1, point2 - end points of the line
// thickness - thickness of the line in units, default 1
function create3DLine(point1,point2,thickness){
  if(thickness==null)thickness=1
  var vector=MathUtil.vec3sub(point1,point2);
  var dist=MathUtil.vec3length(vector);
  var normVector=MathUtil.vec3norm(vector);
  var midPoint=MathUtil.vec3lerp(point1,point2,0.5);
  var line=Meshes.createCapsule(thickness/2,dist,6,4);
  var matrix=MathUtil.quatToMat4(
     MathUtil.quatFromVectors([0,0,1],normVector));
  matrix[12]=midPoint[0]
  matrix[13]=midPoint[1]
  matrix[14]=midPoint[2]
  return line.transform(matrix);
}</code></pre><p><a id=Miscellaneous></a></p>
<h2>Miscellaneous</h2><p>function pathClosedFigure(path, zBottom, zTop, flatness) {
  &quot;use strict&quot;;
  var mesh = new H3DU.MeshBuffer();
  mesh.merge(path.toExtrudedMeshBuffer(zBottom, zTop, flatness));
  mesh.merge(path.toMeshBuffer(zTop, flatness));
  mesh.merge(path.toMeshBuffer(zBottom, flatness).reverseWinding().reverseNormals());
  return mesh;
}</p>
<pre class="prettyprint source"><code>function wireBox(box, color){</code></pre><p>  dims=H3DU.MathUtil.boxDimensions(box)
     var boxMesh=H3DU.Meshes.createBox(dims[0],dims[1],dims[2])
       .setColor(color).wireFrame()
     var shape=new H3DU.Shape(boxMesh)
     shape.setPosition(H3DU.MathUtil.boxCenter(box))
     return shape
    }</p><p><a href='index.html'>Back to documentation index.</a></p></body></html>
