<!DOCTYPE html><html><head><meta charset=utf-8><title>Examples of Creating Meshes on the Fly</title></head><body><h1> Examples of Creating Meshes on the Fly</h1><p><a href='index.html'>Back to documentation index.</a></p><p>This page contains source code for creating various kinds of 3D models on the fly.</p>
<p><a id=Contents></a></p>
<h2>Contents</h2><ul>
<li><a href="#Contents"><strong>Contents</strong></a></li>
<li><a href="#3D_Line"><strong>3D Line</strong></a></li>
<li><a href="#Striped_Disk"><strong>Striped Disk</strong></a></li>
<li><a href="#Miscellaneous"><strong>Miscellaneous</strong></a></li>
</ul>
<p><a id=3D_Line></a></p>
<h2>3D Line</h2><p>This method creates a thin line-like 3D object.</p>
<pre class="prettyprint source"><code>// point1, point2 - end points of the line
// thickness - thickness of the line in units, default 1
function create3DLine(point1,point2,thickness){
  if(thickness==null)thickness=1
  var vector=H3DU.MathUtil.vec3sub(point1,point2);
  var dist=H3DU.MathUtil.vec3length(vector);
  var normVector=H3DU.MathUtil.vec3norm(vector);
  var midPoint=H3DU.MathUtil.vec3lerp(point1,point2,0.5);
  var line=H3DU.Meshes.createCapsule(thickness/2,dist,6,4);
  var matrix=H3DU.MathUtil.quatToMat4(H3DU.MathUtil.quatFromVectors([0,0,1],normVector));
  matrix[12]=midPoint[0]
  matrix[13]=midPoint[1]
  matrix[14]=midPoint[2]
  return line.transform(matrix);
}</code></pre><p><a id=Striped_Disk></a></p>
<h2>Striped Disk</h2><p>This method creates a ring or disk striped in two colors.</p>
<p><img src="mesh2.png" alt="**Image of a disk striped in red and almost-white**"></p>
<pre class="prettyprint source"><code>// inner, outer - inner and outer radius of the disk
// color1, color2 - colors of each stripe; for example:
//   &quot;red&quot;, &quot;#223344&quot;, &quot;rgb(255,0,0)&quot;, [0,1,0]
// sections - number of stripes
// sectionCount - number of sections per stripe
function stripedDisk(inner,outer,color1,color2,sections,sectionCount){
 if(sectionCount==null)sectionCount=4
 var firstColor=true
 var ret=new H3DU.MeshBuffer()
 var sweep=360.0/sections;
 for(var i=0;i&lt;sections;i++){
  var angle=360.0*(i*1.0/sections);
  var mesh=H3DU.Meshes.createPartialDisk(inner,outer,sectionCount,1,angle,sweep)
     .setColor3(firstColor ? color1 : color2)
  firstColor=!firstColor
  ret.merge(mesh);
 }
 return ret;
}</code></pre><p><a id=Miscellaneous></a></p>
<h2>Miscellaneous</h2><pre class="prettyprint source"><code>function setBoxSizeAndBounds(shape,box){
 shape.setPosition(H3DU.MathUtil.boxCenter(box))
 shape.setScale(H3DU.MathUtil.boxDimensions(box))
 return shape
}

function wireBox(box, color){
  if(!color)color=&quot;gray&quot;;
 var boxMesh=H3DU.Meshes.createBox(1,1,1).toWireFrame()
 var shape=new H3DU.Shape(boxMesh).setMaterial(
    H3DU.Material.fromBasic(color))
 return setBoxSizeAndBounds(shape,box)
}</code></pre><p><a href='index.html'>Back to documentation index.</a></p></body></html>
